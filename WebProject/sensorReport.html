<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <link rel="stylesheet" href="mystyle.css">
      <title>Final Project</title>
   </head>
   <body>
      <div class= "container">
         <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" id = "navBarId">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
               <ul class="navbar-nav mr-auto">
                  <li class="nav-item">
                     <a class="nav-link" href="index.html" id = "navInfo">Information</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="calculator.html" id = "navCal">Calculator</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="Weather.html" id = "navWea">Weather</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="sensor.html" id = "navSen">Sensor Update</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="sensorReport.html" id = "navRep">Sensor Report</a>
                  </li>
               </ul>
               <ul class="navbar-nav ml-auto">
                 <li class="nav-item">
               <li class="nav-item">
                  <a class="nav-link" href="../portfolio.html" id = "navRep">Back To Portfolio</a>
               </li>
             </ul>
            </div>
         </nav>
         <br>
      </div>
      <div class="jumbotron text-center" id = "main">
         <div class = "container">
            <div class = "row">
               <div class = "col-sm-4"><img src="code_icon_final.png" alt = "Form Image" width= "100" height = "100" id = "codeImage"></div>
               <div class = "col-sm-4">
                  <h1>CSE 383 FINAL</h1>
                  <h2>Sensor Report</h2>
                  <h4>This page has been disabled</h4>
               </div>
               <div class = "col-sm-4"><img src="code_icon_final.png" alt = "Form Image" width= "100" height = "100" id = "codeImage"></div>
            </div>
         </div>
      </div>
      <div class = "container" id = "main2" style = "border-radius: 10px;
      border-style: solid;
      border-color: grey;
      padding: 10px;">
            <div class="col">
            <div class="form-group">
              <label for="value">Quantity</label>
              <select class="form-control" id="value">
              </select>
            </div>
            <input class="form-control" type="text" placeholder="Location" id = "location">
            <input class="form-control" type="number" placeholder="Sensor Number" id = "senNum">
            <button type="button" class="btn btn-info" id="submitButton">Display</button>
            </div>
      </div>
      <div class = "container" id = "results">

      </div>

      <script src="https://code.jquery.com/jquery-3.4.1.min.js"               integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="               crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
      <script>
         $(document).ready(function(){
           $("#main").slideUp(1);
           $("#main2").slideUp(1);
           $("#main").slideDown(1000);
           $("#main2").slideDown(1000);
           let loc;
           let sen;
           let qty;
           $("#navRep").css({"text-decoration": "underline"});

           for(i = 1; i < 100; i++){
             $("#value").append("<option>" + i + "</option>");
           }
           $('#submitButton').on('click', function(event) {
             loc = $("#location").val();
             sen = $("#senNum").val();
             qty = $("#value").val();
             if (sen == ""){
               sen = "0";
             }
             if( loc == ""){
               loc = "+";
             }
             a=$.ajax({
               url: "https://heyneje.aws.csi.miamioh.edu/final.php?method=getTemp&qty=+" + qty + "&location=" + loc + "&sensor=" + sen,
               method :"GET"
             }).done(function(data){
               console.log(data);
               $("#results").html("<hr><div class = \"row\"> <div class = \"col\">"  + "Sensor Photo" + "</div><div class = \"col\">"  + "Date" + "</div><div class = \"col\">" +
               "Location" + "</div><div class = \"col\">" + "Source" + "</div><div class = \"col\">" + "Quantity" +
               "</div><div class = \"col\">" + "Sensor" + "</div></div><hr>");
               for(i = 0; i < data.result.length;i++){
               $("#results").append("<div class = \"row\"> <div class = \"col\">"  + "<img src=\"https://cse383-heyneje.s3.amazonaws.com/sensor" + data.result[i].sensor + ".jpg\" class=\"img-fluid\" alt=\"Responsive image\" width = \"100\" height = \"100\">" + "</div><div class = \"col\">" + data.result[i].date + "</div><div class = \"col\">" +
               data.result[i].location + "</div><div class = \"col\">" + data.result[i].source + "</div><div class = \"col\">" + data.result[i].value +
               "</div><div class = \"col\">" + data.result[i].sensor + "</div></div><hr>");
             }


             }).fail(function(error) {
               console.log("error",error.statusText);
             });

             });
         });
      </script>
   </body>
</html>
